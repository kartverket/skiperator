---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    istio: security
    release: istio
  name: peerauthentications.security.istio.io
spec:
  group: security.istio.io
  names:
    categories:
      - istio-io
      - security-istio-io
    kind: PeerAuthentication
    listKind: PeerAuthenticationList
    plural: peerauthentications
    shortNames:
      - pa
    singular: peerauthentication
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - description: Defines the mTLS mode used for peer authentication.
          jsonPath: .spec.mtls.mode
          name: Mode
          type: string
        - description: 'CreationTimestamp is a timestamp representing the server time
        when this object was created. It is not guaranteed to be set in happens-before
        order across separate operations. Clients may not set this value. It is represented
        in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for
        lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: PeerAuthentication defines how traffic will be tunneled (or
                not) to the sidecar.
              properties:
                mtls:
                  description: Mutual TLS settings for workload.
                  properties:
                    mode:
                      description: Defines the mTLS mode used for peer authentication.
                      enum:
                        - UNSET
                        - DISABLE
                        - PERMISSIVE
                        - STRICT
                      type: string
                  type: object
                portLevelMtls:
                  additionalProperties:
                    properties:
                      mode:
                        description: Defines the mTLS mode used for peer authentication.
                        enum:
                          - UNSET
                          - DISABLE
                          - PERMISSIVE
                          - STRICT
                        type: string
                    type: object
                  description: Port specific mutual TLS settings.
                  type: object
                selector:
                  description: The selector determines the workloads to apply the ChannelAuthentication
                    on.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}



---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    release: istio
  name: gateways.networking.istio.io
spec:
  group: networking.istio.io
  names:
    categories:
      - istio-io
      - networking-istio-io
    kind: Gateway
    listKind: GatewayList
    plural: gateways
    shortNames:
      - gw
    singular: gateway
  scope: Namespaced
  versions:
    - name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting edge load balancer. See more details
              at: https://istio.io/docs/reference/config/networking/gateway.html'
              properties:
                selector:
                  additionalProperties:
                    type: string
                  type: object
                servers:
                  description: A list of server specifications.
                  items:
                    properties:
                      bind:
                        type: string
                      defaultEndpoint:
                        type: string
                      hosts:
                        description: One or more hosts exposed by this gateway.
                        items:
                          type: string
                        type: array
                      name:
                        description: An optional name of the server, when set must be
                          unique across all servers.
                        type: string
                      port:
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                      tls:
                        description: Set of TLS related options that govern the server's
                          behavior.
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the specified
                            cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            type: string
                          httpsRedirect:
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          mode:
                            enum:
                              - PASSTHROUGH
                              - SIMPLE
                              - MUTUAL
                              - AUTO_PASSTHROUGH
                              - ISTIO_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            items:
                              type: string
                            type: array
                        type: object
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting edge load balancer. See more details
              at: https://istio.io/docs/reference/config/networking/gateway.html'
              properties:
                selector:
                  additionalProperties:
                    type: string
                  type: object
                servers:
                  description: A list of server specifications.
                  items:
                    properties:
                      bind:
                        type: string
                      defaultEndpoint:
                        type: string
                      hosts:
                        description: One or more hosts exposed by this gateway.
                        items:
                          type: string
                        type: array
                      name:
                        description: An optional name of the server, when set must be
                          unique across all servers.
                        type: string
                      port:
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                      tls:
                        description: Set of TLS related options that govern the server's
                          behavior.
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the specified
                            cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            type: string
                          httpsRedirect:
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          mode:
                            enum:
                              - PASSTHROUGH
                              - SIMPLE
                              - MUTUAL
                              - AUTO_PASSTHROUGH
                              - ISTIO_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            items:
                              type: string
                            type: array
                        type: object
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}



---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    release: istio
  name: serviceentries.networking.istio.io
spec:
  group: networking.istio.io
  names:
    categories:
      - istio-io
      - networking-istio-io
    kind: ServiceEntry
    listKind: ServiceEntryList
    plural: serviceentries
    shortNames:
      - se
    singular: serviceentry
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - description: The hosts associated with the ServiceEntry
          jsonPath: .spec.hosts
          name: Hosts
          type: string
        - description: Whether the service is external to the mesh or part of the mesh
            (MESH_EXTERNAL or MESH_INTERNAL)
          jsonPath: .spec.location
          name: Location
          type: string
        - description: Service resolution mode for the hosts (NONE, STATIC, or DNS)
          jsonPath: .spec.resolution
          name: Resolution
          type: string
        - description: 'CreationTimestamp is a timestamp representing the server time
        when this object was created. It is not guaranteed to be set in happens-before
        order across separate operations. Clients may not set this value. It is represented
        in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for
        lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting service registry. See more details
              at: https://istio.io/docs/reference/config/networking/service-entry.html'
              properties:
                addresses:
                  description: The virtual IP addresses associated with the service.
                  items:
                    type: string
                  type: array
                endpoints:
                  description: One or more endpoints associated with the service.
                  items:
                    properties:
                      address:
                        type: string
                      labels:
                        additionalProperties:
                          type: string
                        description: One or more labels associated with the endpoint.
                        type: object
                      locality:
                        description: The locality associated with the endpoint.
                        type: string
                      network:
                        type: string
                      ports:
                        additionalProperties:
                          type: integer
                        description: Set of ports associated with the endpoint.
                        type: object
                      serviceAccount:
                        type: string
                      weight:
                        description: The load balancing weight associated with the endpoint.
                        type: integer
                    type: object
                  type: array
                exportTo:
                  description: A list of namespaces to which this service is exported.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The hosts associated with the ServiceEntry.
                  items:
                    type: string
                  type: array
                location:
                  enum:
                    - MESH_EXTERNAL
                    - MESH_INTERNAL
                  type: string
                ports:
                  description: The ports associated with the external service.
                  items:
                    properties:
                      name:
                        description: Label assigned to the port.
                        type: string
                      number:
                        description: A valid non-negative integer port number.
                        type: integer
                      protocol:
                        description: The protocol exposed on the port.
                        type: string
                      targetPort:
                        type: integer
                    type: object
                  type: array
                resolution:
                  description: Service resolution mode for the hosts.
                  enum:
                    - NONE
                    - STATIC
                    - DNS
                    - DNS_ROUND_ROBIN
                  type: string
                subjectAltNames:
                  items:
                    type: string
                  type: array
                workloadSelector:
                  description: Applicable only for MESH_INTERNAL services.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
        - description: The hosts associated with the ServiceEntry
          jsonPath: .spec.hosts
          name: Hosts
          type: string
        - description: Whether the service is external to the mesh or part of the mesh
            (MESH_EXTERNAL or MESH_INTERNAL)
          jsonPath: .spec.location
          name: Location
          type: string
        - description: Service resolution mode for the hosts (NONE, STATIC, or DNS)
          jsonPath: .spec.resolution
          name: Resolution
          type: string
        - description: 'CreationTimestamp is a timestamp representing the server time
        when this object was created. It is not guaranteed to be set in happens-before
        order across separate operations. Clients may not set this value. It is represented
        in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for
        lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting service registry. See more details
              at: https://istio.io/docs/reference/config/networking/service-entry.html'
              properties:
                addresses:
                  description: The virtual IP addresses associated with the service.
                  items:
                    type: string
                  type: array
                endpoints:
                  description: One or more endpoints associated with the service.
                  items:
                    properties:
                      address:
                        type: string
                      labels:
                        additionalProperties:
                          type: string
                        description: One or more labels associated with the endpoint.
                        type: object
                      locality:
                        description: The locality associated with the endpoint.
                        type: string
                      network:
                        type: string
                      ports:
                        additionalProperties:
                          type: integer
                        description: Set of ports associated with the endpoint.
                        type: object
                      serviceAccount:
                        type: string
                      weight:
                        description: The load balancing weight associated with the endpoint.
                        type: integer
                    type: object
                  type: array
                exportTo:
                  description: A list of namespaces to which this service is exported.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The hosts associated with the ServiceEntry.
                  items:
                    type: string
                  type: array
                location:
                  enum:
                    - MESH_EXTERNAL
                    - MESH_INTERNAL
                  type: string
                ports:
                  description: The ports associated with the external service.
                  items:
                    properties:
                      name:
                        description: Label assigned to the port.
                        type: string
                      number:
                        description: A valid non-negative integer port number.
                        type: integer
                      protocol:
                        description: The protocol exposed on the port.
                        type: string
                      targetPort:
                        type: integer
                    type: object
                  type: array
                resolution:
                  description: Service resolution mode for the hosts.
                  enum:
                    - NONE
                    - STATIC
                    - DNS
                    - DNS_ROUND_ROBIN
                  type: string
                subjectAltNames:
                  items:
                    type: string
                  type: array
                workloadSelector:
                  description: Applicable only for MESH_INTERNAL services.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}



---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    release: istio
  name: sidecars.networking.istio.io
spec:
  group: networking.istio.io
  names:
    categories:
      - istio-io
      - networking-istio-io
    kind: Sidecar
    listKind: SidecarList
    plural: sidecars
    singular: sidecar
  scope: Namespaced
  versions:
    - name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting network reachability of a sidecar.
              See more details at: https://istio.io/docs/reference/config/networking/sidecar.html'
              properties:
                egress:
                  items:
                    properties:
                      bind:
                        type: string
                      captureMode:
                        enum:
                          - DEFAULT
                          - IPTABLES
                          - NONE
                        type: string
                      hosts:
                        items:
                          type: string
                        type: array
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                    type: object
                  type: array
                ingress:
                  items:
                    properties:
                      bind:
                        description: The IP(IPv4 or IPv6) to which the listener should
                          be bound.
                        type: string
                      captureMode:
                        enum:
                          - DEFAULT
                          - IPTABLES
                          - NONE
                        type: string
                      defaultEndpoint:
                        type: string
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                      tls:
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the specified
                            cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            type: string
                          httpsRedirect:
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          mode:
                            enum:
                              - PASSTHROUGH
                              - SIMPLE
                              - MUTUAL
                              - AUTO_PASSTHROUGH
                              - ISTIO_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            items:
                              type: string
                            type: array
                        type: object
                    type: object
                  type: array
                outboundTrafficPolicy:
                  description: Configuration for the outbound traffic policy.
                  properties:
                    egressProxy:
                      properties:
                        host:
                          description: The name of a service from the service registry.
                          type: string
                        port:
                          description: Specifies the port on the host that is being
                            addressed.
                          properties:
                            number:
                              type: integer
                          type: object
                        subset:
                          description: The name of a subset within the service.
                          type: string
                      type: object
                    mode:
                      enum:
                        - REGISTRY_ONLY
                        - ALLOW_ANY
                      type: string
                  type: object
                workloadSelector:
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting network reachability of a sidecar.
              See more details at: https://istio.io/docs/reference/config/networking/sidecar.html'
              properties:
                egress:
                  items:
                    properties:
                      bind:
                        type: string
                      captureMode:
                        enum:
                          - DEFAULT
                          - IPTABLES
                          - NONE
                        type: string
                      hosts:
                        items:
                          type: string
                        type: array
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                    type: object
                  type: array
                ingress:
                  items:
                    properties:
                      bind:
                        description: The IP(IPv4 or IPv6) to which the listener should
                          be bound.
                        type: string
                      captureMode:
                        enum:
                          - DEFAULT
                          - IPTABLES
                          - NONE
                        type: string
                      defaultEndpoint:
                        type: string
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                      tls:
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the specified
                            cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            type: string
                          httpsRedirect:
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                              - TLS_AUTO
                              - TLSV1_0
                              - TLSV1_1
                              - TLSV1_2
                              - TLSV1_3
                            type: string
                          mode:
                            enum:
                              - PASSTHROUGH
                              - SIMPLE
                              - MUTUAL
                              - AUTO_PASSTHROUGH
                              - ISTIO_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            items:
                              type: string
                            type: array
                        type: object
                    type: object
                  type: array
                outboundTrafficPolicy:
                  description: Configuration for the outbound traffic policy.
                  properties:
                    egressProxy:
                      properties:
                        host:
                          description: The name of a service from the service registry.
                          type: string
                        port:
                          description: Specifies the port on the host that is being
                            addressed.
                          properties:
                            number:
                              type: integer
                          type: object
                        subset:
                          description: The name of a subset within the service.
                          type: string
                      type: object
                    mode:
                      enum:
                        - REGISTRY_ONLY
                        - ALLOW_ANY
                      type: string
                  type: object
                workloadSelector:
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}



---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    release: istio
  name: virtualservices.networking.istio.io
spec:
  group: networking.istio.io
  names:
    categories:
      - istio-io
      - networking-istio-io
    kind: VirtualService
    listKind: VirtualServiceList
    plural: virtualservices
    shortNames:
      - vs
    singular: virtualservice
  scope: Namespaced
  versions:
    - additionalPrinterColumns:
        - description: The names of gateways and sidecars that should apply these routes
          jsonPath: .spec.gateways
          name: Gateways
          type: string
        - description: The destination hosts to which traffic is being sent
          jsonPath: .spec.hosts
          name: Hosts
          type: string
        - description: 'CreationTimestamp is a timestamp representing the server time
        when this object was created. It is not guaranteed to be set in happens-before
        order across separate operations. Clients may not set this value. It is represented
        in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for
        lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting label/content routing, sni routing,
              etc. See more details at: https://istio.io/docs/reference/config/networking/virtual-service.html'
              properties:
                exportTo:
                  description: A list of namespaces to which this virtual service is
                    exported.
                  items:
                    type: string
                  type: array
                gateways:
                  description: The names of gateways and sidecars that should apply
                    these routes.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The destination hosts to which traffic is being sent.
                  items:
                    type: string
                  type: array
                http:
                  description: An ordered list of route rules for HTTP traffic.
                  items:
                    properties:
                      corsPolicy:
                        description: Cross-Origin Resource Sharing policy (CORS).
                        properties:
                          allowCredentials:
                            nullable: true
                            type: boolean
                          allowHeaders:
                            items:
                              type: string
                            type: array
                          allowMethods:
                            description: List of HTTP methods allowed to access the
                              resource.
                            items:
                              type: string
                            type: array
                          allowOrigin:
                            description: The list of origins that are allowed to perform
                              CORS requests.
                            items:
                              type: string
                            type: array
                          allowOrigins:
                            description: String patterns that match allowed origins.
                            items:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            type: array
                          exposeHeaders:
                            items:
                              type: string
                            type: array
                          maxAge:
                            type: string
                        type: object
                      delegate:
                        properties:
                          name:
                            description: Name specifies the name of the delegate VirtualService.
                            type: string
                          namespace:
                            description: Namespace specifies the namespace where the
                              delegate VirtualService resides.
                            type: string
                        type: object
                      directResponse:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        properties:
                          body:
                            description: Specifies the content of the response body.
                            oneOf:
                              - not:
                                  anyOf:
                                    - required:
                                        - string
                                    - required:
                                        - bytes
                              - required:
                                  - string
                              - required:
                                  - bytes
                            properties:
                              bytes:
                                description: response body as base64 encoded bytes.
                                format: binary
                                type: string
                              string:
                                type: string
                            type: object
                          status:
                            description: Specifies the HTTP response status to be returned.
                            type: integer
                        type: object
                      fault:
                        description: Fault injection policy to apply on HTTP traffic
                          at the client side.
                        properties:
                          abort:
                            oneOf:
                              - not:
                                  anyOf:
                                    - required:
                                        - httpStatus
                                    - required:
                                        - grpcStatus
                                    - required:
                                        - http2Error
                              - required:
                                  - httpStatus
                              - required:
                                  - grpcStatus
                              - required:
                                  - http2Error
                            properties:
                              grpcStatus:
                                description: GRPC status code to use to abort the request.
                                type: string
                              http2Error:
                                type: string
                              httpStatus:
                                description: HTTP status code to use to abort the Http
                                  request.
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests to be aborted with
                                  the error code provided.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                          delay:
                            oneOf:
                              - not:
                                  anyOf:
                                    - required:
                                        - fixedDelay
                                    - required:
                                        - exponentialDelay
                              - required:
                                  - fixedDelay
                              - required:
                                  - exponentialDelay
                            properties:
                              exponentialDelay:
                                type: string
                              fixedDelay:
                                description: Add a fixed delay before forwarding the
                                  request.
                                type: string
                              percent:
                                description: Percentage of requests on which the delay
                                  will be injected (0-100).
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests on which the delay
                                  will be injected.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                        type: object
                      headers:
                        properties:
                          request:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                          response:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                        type: object
                      match:
                        items:
                          properties:
                            authority:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            gateways:
                              description: Names of gateways where the rule should be
                                applied.
                              items:
                                type: string
                              type: array
                            headers:
                              additionalProperties:
                                oneOf:
                                  - not:
                                      anyOf:
                                        - required:
                                            - exact
                                        - required:
                                            - prefix
                                        - required:
                                            - regex
                                  - required:
                                      - exact
                                  - required:
                                      - prefix
                                  - required:
                                      - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              type: object
                            ignoreUriCase:
                              description: Flag to specify whether the URI matching
                                should be case-insensitive.
                              type: boolean
                            method:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            name:
                              description: The name assigned to a match.
                              type: string
                            port:
                              description: Specifies the ports on the host that is being
                                addressed.
                              type: integer
                            queryParams:
                              additionalProperties:
                                oneOf:
                                  - not:
                                      anyOf:
                                        - required:
                                            - exact
                                        - required:
                                            - prefix
                                        - required:
                                            - regex
                                  - required:
                                      - exact
                                  - required:
                                      - prefix
                                  - required:
                                      - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: Query parameters for matching.
                              type: object
                            scheme:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            sourceLabels:
                              additionalProperties:
                                type: string
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            statPrefix:
                              description: The human readable prefix to use when emitting
                                statistics for this route.
                              type: string
                            uri:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            withoutHeaders:
                              additionalProperties:
                                oneOf:
                                  - not:
                                      anyOf:
                                        - required:
                                            - exact
                                        - required:
                                            - prefix
                                        - required:
                                            - regex
                                  - required:
                                      - exact
                                  - required:
                                      - prefix
                                  - required:
                                      - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: withoutHeader has the same syntax with the
                                header, but has opposite meaning.
                              type: object
                          type: object
                        type: array
                      mirror:
                        properties:
                          host:
                            description: The name of a service from the service registry.
                            type: string
                          port:
                            description: Specifies the port on the host that is being
                              addressed.
                            properties:
                              number:
                                type: integer
                            type: object
                          subset:
                            description: The name of a subset within the service.
                            type: string
                        type: object
                      mirror_percent:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        nullable: true
                        type: integer
                      mirrorPercent:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        nullable: true
                        type: integer
                      mirrorPercentage:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        properties:
                          value:
                            format: double
                            type: number
                        type: object
                      name:
                        description: The name assigned to the route for debugging purposes.
                        type: string
                      redirect:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        oneOf:
                          - not:
                              anyOf:
                                - required:
                                    - port
                                - required:
                                    - derivePort
                          - required:
                              - port
                          - required:
                              - derivePort
                        properties:
                          authority:
                            type: string
                          derivePort:
                            enum:
                              - FROM_PROTOCOL_DEFAULT
                              - FROM_REQUEST_PORT
                            type: string
                          port:
                            description: On a redirect, overwrite the port portion of
                              the URL with this value.
                            type: integer
                          redirectCode:
                            type: integer
                          scheme:
                            description: On a redirect, overwrite the scheme portion
                              of the URL with this value.
                            type: string
                          uri:
                            type: string
                        type: object
                      retries:
                        description: Retry policy for HTTP requests.
                        properties:
                          attempts:
                            description: Number of retries to be allowed for a given
                              request.
                            format: int32
                            type: integer
                          perTryTimeout:
                            description: Timeout per attempt for a given request, including
                              the initial call and any retries.
                            type: string
                          retryOn:
                            description: Specifies the conditions under which retry
                              takes place.
                            type: string
                          retryRemoteLocalities:
                            description: Flag to specify whether the retries should
                              retry to other localities.
                            nullable: true
                            type: boolean
                        type: object
                      rewrite:
                        description: Rewrite HTTP URIs and Authority headers.
                        properties:
                          authority:
                            description: rewrite the Authority/Host header with this
                              value.
                            type: string
                          uri:
                            type: string
                        type: object
                      route:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        items:
                          properties:
                            destination:
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that is
                                    being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              type: object
                            headers:
                              properties:
                                request:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                                response:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          type: object
                        type: array
                      timeout:
                        description: Timeout for HTTP requests, default is disabled.
                        type: string
                    type: object
                  type: array
                tcp:
                  description: An ordered list of route rules for opaque TCP traffic.
                  items:
                    properties:
                      match:
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should be
                                applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is being
                                addressed.
                              type: integer
                            sourceLabels:
                              additionalProperties:
                                type: string
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            sourceSubnet:
                              description: IPv4 or IPv6 ip address of source with optional
                                subnet.
                              type: string
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that is
                                    being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          type: object
                        type: array
                    type: object
                  type: array
                tls:
                  items:
                    properties:
                      match:
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should be
                                applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is being
                                addressed.
                              type: integer
                            sniHosts:
                              description: SNI (server name indicator) to match on.
                              items:
                                type: string
                              type: array
                            sourceLabels:
                              additionalProperties:
                                type: string
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that is
                                    being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          type: object
                        type: array
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
        - description: The names of gateways and sidecars that should apply these routes
          jsonPath: .spec.gateways
          name: Gateways
          type: string
        - description: The destination hosts to which traffic is being sent
          jsonPath: .spec.hosts
          name: Hosts
          type: string
        - description: 'CreationTimestamp is a timestamp representing the server time
        when this object was created. It is not guaranteed to be set in happens-before
        order across separate operations. Clients may not set this value. It is represented
        in RFC3339 form and is in UTC. Populated by the system. Read-only. Null for
        lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting label/content routing, sni routing,
              etc. See more details at: https://istio.io/docs/reference/config/networking/virtual-service.html'
              properties:
                exportTo:
                  description: A list of namespaces to which this virtual service is
                    exported.
                  items:
                    type: string
                  type: array
                gateways:
                  description: The names of gateways and sidecars that should apply
                    these routes.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The destination hosts to which traffic is being sent.
                  items:
                    type: string
                  type: array
                http:
                  description: An ordered list of route rules for HTTP traffic.
                  items:
                    properties:
                      corsPolicy:
                        description: Cross-Origin Resource Sharing policy (CORS).
                        properties:
                          allowCredentials:
                            nullable: true
                            type: boolean
                          allowHeaders:
                            items:
                              type: string
                            type: array
                          allowMethods:
                            description: List of HTTP methods allowed to access the
                              resource.
                            items:
                              type: string
                            type: array
                          allowOrigin:
                            description: The list of origins that are allowed to perform
                              CORS requests.
                            items:
                              type: string
                            type: array
                          allowOrigins:
                            description: String patterns that match allowed origins.
                            items:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            type: array
                          exposeHeaders:
                            items:
                              type: string
                            type: array
                          maxAge:
                            type: string
                        type: object
                      delegate:
                        properties:
                          name:
                            description: Name specifies the name of the delegate VirtualService.
                            type: string
                          namespace:
                            description: Namespace specifies the namespace where the
                              delegate VirtualService resides.
                            type: string
                        type: object
                      directResponse:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        properties:
                          body:
                            description: Specifies the content of the response body.
                            oneOf:
                              - not:
                                  anyOf:
                                    - required:
                                        - string
                                    - required:
                                        - bytes
                              - required:
                                  - string
                              - required:
                                  - bytes
                            properties:
                              bytes:
                                description: response body as base64 encoded bytes.
                                format: binary
                                type: string
                              string:
                                type: string
                            type: object
                          status:
                            description: Specifies the HTTP response status to be returned.
                            type: integer
                        type: object
                      fault:
                        description: Fault injection policy to apply on HTTP traffic
                          at the client side.
                        properties:
                          abort:
                            oneOf:
                              - not:
                                  anyOf:
                                    - required:
                                        - httpStatus
                                    - required:
                                        - grpcStatus
                                    - required:
                                        - http2Error
                              - required:
                                  - httpStatus
                              - required:
                                  - grpcStatus
                              - required:
                                  - http2Error
                            properties:
                              grpcStatus:
                                description: GRPC status code to use to abort the request.
                                type: string
                              http2Error:
                                type: string
                              httpStatus:
                                description: HTTP status code to use to abort the Http
                                  request.
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests to be aborted with
                                  the error code provided.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                          delay:
                            oneOf:
                              - not:
                                  anyOf:
                                    - required:
                                        - fixedDelay
                                    - required:
                                        - exponentialDelay
                              - required:
                                  - fixedDelay
                              - required:
                                  - exponentialDelay
                            properties:
                              exponentialDelay:
                                type: string
                              fixedDelay:
                                description: Add a fixed delay before forwarding the
                                  request.
                                type: string
                              percent:
                                description: Percentage of requests on which the delay
                                  will be injected (0-100).
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests on which the delay
                                  will be injected.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                        type: object
                      headers:
                        properties:
                          request:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                          response:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                        type: object
                      match:
                        items:
                          properties:
                            authority:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            gateways:
                              description: Names of gateways where the rule should be
                                applied.
                              items:
                                type: string
                              type: array
                            headers:
                              additionalProperties:
                                oneOf:
                                  - not:
                                      anyOf:
                                        - required:
                                            - exact
                                        - required:
                                            - prefix
                                        - required:
                                            - regex
                                  - required:
                                      - exact
                                  - required:
                                      - prefix
                                  - required:
                                      - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              type: object
                            ignoreUriCase:
                              description: Flag to specify whether the URI matching
                                should be case-insensitive.
                              type: boolean
                            method:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            name:
                              description: The name assigned to a match.
                              type: string
                            port:
                              description: Specifies the ports on the host that is being
                                addressed.
                              type: integer
                            queryParams:
                              additionalProperties:
                                oneOf:
                                  - not:
                                      anyOf:
                                        - required:
                                            - exact
                                        - required:
                                            - prefix
                                        - required:
                                            - regex
                                  - required:
                                      - exact
                                  - required:
                                      - prefix
                                  - required:
                                      - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: Query parameters for matching.
                              type: object
                            scheme:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            sourceLabels:
                              additionalProperties:
                                type: string
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            statPrefix:
                              description: The human readable prefix to use when emitting
                                statistics for this route.
                              type: string
                            uri:
                              oneOf:
                                - not:
                                    anyOf:
                                      - required:
                                          - exact
                                      - required:
                                          - prefix
                                      - required:
                                          - regex
                                - required:
                                    - exact
                                - required:
                                    - prefix
                                - required:
                                    - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            withoutHeaders:
                              additionalProperties:
                                oneOf:
                                  - not:
                                      anyOf:
                                        - required:
                                            - exact
                                        - required:
                                            - prefix
                                        - required:
                                            - regex
                                  - required:
                                      - exact
                                  - required:
                                      - prefix
                                  - required:
                                      - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: withoutHeader has the same syntax with the
                                header, but has opposite meaning.
                              type: object
                          type: object
                        type: array
                      mirror:
                        properties:
                          host:
                            description: The name of a service from the service registry.
                            type: string
                          port:
                            description: Specifies the port on the host that is being
                              addressed.
                            properties:
                              number:
                                type: integer
                            type: object
                          subset:
                            description: The name of a subset within the service.
                            type: string
                        type: object
                      mirror_percent:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        nullable: true
                        type: integer
                      mirrorPercent:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        nullable: true
                        type: integer
                      mirrorPercentage:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        properties:
                          value:
                            format: double
                            type: number
                        type: object
                      name:
                        description: The name assigned to the route for debugging purposes.
                        type: string
                      redirect:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        oneOf:
                          - not:
                              anyOf:
                                - required:
                                    - port
                                - required:
                                    - derivePort
                          - required:
                              - port
                          - required:
                              - derivePort
                        properties:
                          authority:
                            type: string
                          derivePort:
                            enum:
                              - FROM_PROTOCOL_DEFAULT
                              - FROM_REQUEST_PORT
                            type: string
                          port:
                            description: On a redirect, overwrite the port portion of
                              the URL with this value.
                            type: integer
                          redirectCode:
                            type: integer
                          scheme:
                            description: On a redirect, overwrite the scheme portion
                              of the URL with this value.
                            type: string
                          uri:
                            type: string
                        type: object
                      retries:
                        description: Retry policy for HTTP requests.
                        properties:
                          attempts:
                            description: Number of retries to be allowed for a given
                              request.
                            format: int32
                            type: integer
                          perTryTimeout:
                            description: Timeout per attempt for a given request, including
                              the initial call and any retries.
                            type: string
                          retryOn:
                            description: Specifies the conditions under which retry
                              takes place.
                            type: string
                          retryRemoteLocalities:
                            description: Flag to specify whether the retries should
                              retry to other localities.
                            nullable: true
                            type: boolean
                        type: object
                      rewrite:
                        description: Rewrite HTTP URIs and Authority headers.
                        properties:
                          authority:
                            description: rewrite the Authority/Host header with this
                              value.
                            type: string
                          uri:
                            type: string
                        type: object
                      route:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        items:
                          properties:
                            destination:
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that is
                                    being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              type: object
                            headers:
                              properties:
                                request:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                                response:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          type: object
                        type: array
                      timeout:
                        description: Timeout for HTTP requests, default is disabled.
                        type: string
                    type: object
                  type: array
                tcp:
                  description: An ordered list of route rules for opaque TCP traffic.
                  items:
                    properties:
                      match:
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should be
                                applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is being
                                addressed.
                              type: integer
                            sourceLabels:
                              additionalProperties:
                                type: string
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            sourceSubnet:
                              description: IPv4 or IPv6 ip address of source with optional
                                subnet.
                              type: string
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that is
                                    being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          type: object
                        type: array
                    type: object
                  type: array
                tls:
                  items:
                    properties:
                      match:
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should be
                                applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is being
                                addressed.
                              type: integer
                            sniHosts:
                              description: SNI (server name indicator) to match on.
                              items:
                                type: string
                              type: array
                            sourceLabels:
                              additionalProperties:
                                type: string
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that is
                                    being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          type: object
                        type: array
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}




---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  labels:
    app: istio-pilot
    chart: istio
    heritage: Tiller
    istio: security
    release: istio
  name: authorizationpolicies.security.istio.io
spec:
  group: security.istio.io
  names:
    categories:
      - istio-io
      - security-istio-io
    kind: AuthorizationPolicy
    listKind: AuthorizationPolicyList
    plural: authorizationpolicies
    singular: authorizationpolicy
  scope: Namespaced
  versions:
    - name: v1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration for access control on workloads. See more
              details at: https://istio.io/docs/reference/config/security/authorization-policy.html'
              oneOf:
                - not:
                    anyOf:
                      - required:
                          - provider
                - required:
                    - provider
              properties:
                action:
                  description: Optional.
                  enum:
                    - ALLOW
                    - DENY
                    - AUDIT
                    - CUSTOM
                  type: string
                provider:
                  description: Specifies detailed configuration of the CUSTOM action.
                  properties:
                    name:
                      description: Specifies the name of the extension provider.
                      type: string
                  type: object
                rules:
                  description: Optional.
                  items:
                    properties:
                      from:
                        description: Optional.
                        items:
                          properties:
                            source:
                              description: Source specifies the source of a request.
                              properties:
                                ipBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                namespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notNamespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRemoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRequestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                principals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                remoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                requestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      to:
                        description: Optional.
                        items:
                          properties:
                            operation:
                              description: Operation specifies the operation of a request.
                              properties:
                                hosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                methods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notHosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notMethods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPaths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPorts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                paths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                ports:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      when:
                        description: Optional.
                        items:
                          properties:
                            key:
                              description: The name of an Istio attribute.
                              type: string
                            notValues:
                              description: Optional.
                              items:
                                type: string
                              type: array
                            values:
                              description: Optional.
                              items:
                                type: string
                              type: array
                          type: object
                        type: array
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration for access control on workloads. See more
              details at: https://istio.io/docs/reference/config/security/authorization-policy.html'
              oneOf:
                - not:
                    anyOf:
                      - required:
                          - provider
                - required:
                    - provider
              properties:
                action:
                  description: Optional.
                  enum:
                    - ALLOW
                    - DENY
                    - AUDIT
                    - CUSTOM
                  type: string
                provider:
                  description: Specifies detailed configuration of the CUSTOM action.
                  properties:
                    name:
                      description: Specifies the name of the extension provider.
                      type: string
                  type: object
                rules:
                  description: Optional.
                  items:
                    properties:
                      from:
                        description: Optional.
                        items:
                          properties:
                            source:
                              description: Source specifies the source of a request.
                              properties:
                                ipBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                namespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notNamespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRemoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRequestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                principals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                remoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                requestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      to:
                        description: Optional.
                        items:
                          properties:
                            operation:
                              description: Operation specifies the operation of a request.
                              properties:
                                hosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                methods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notHosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notMethods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPaths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPorts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                paths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                ports:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      when:
                        description: Optional.
                        items:
                          properties:
                            key:
                              description: The name of an Istio attribute.
                              type: string
                            notValues:
                              description: Optional.
                              items:
                                type: string
                              type: array
                            values:
                              description: Optional.
                              items:
                                type: string
                              type: array
                          type: object
                        type: array
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}

